<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Account</title>
    <div th:replace="~{/shared/header :: header}"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
<div th:replace="~{/shared/header :: navbar}"/>
<div class="container my-5">
    <h2 class="mb-4">My Account</h2>

    <!-- Account Navigation -->
    <ul class="nav nav-tabs mb-4">
        <li class="nav-item">
            <a class="nav-link active" data-bs-toggle="tab" href="#dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#orders"><i class="fas fa-box"></i> Orders</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#downloads"><i class="fas fa-cloud-download-alt"></i> Downloads</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#address"><i class="fas fa-map-marker-alt"></i> Address</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#account-info"><i class="fas fa-user"></i> Account Details</a>
        </li>

        </li>
    </ul>

    <!-- Account Content -->
    <div class="tab-content">
        <div class="tab-pane fade show active" id="dashboard">
            <div class="alert alert-light">
                Hello <strong th:text="${username}">User</strong>, welcome to your account dashboard!
            </div>
            <a href ="/admin" >admin </a>

            <p>From your account dashboard, you can view your <u>recent orders</u>, manage your <u>shipping and billing addresses</u>, and <u>edit your password and account details</u>.</p>
        </div>

        <div class="tab-pane fade" id="orders">
            <h4>Your Orders</h4>
            <table class="table">
                <thead>
                <tr>
                    <th>Order ID</th>
                    <th>Date</th>
                    <th>Status</th>
                    <th>Total</th>
                    <th>Action</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>1001</td>
                    <td>2024-09-22</td>
                    <td>Completed</td>
                    <td>$300.00</td>
                    <td><a href="#" class="btn btn-primary">View</a></td>
                </tr>
                <tr>
                    <td>1002</td>
                    <td>2024-09-21</td>
                    <td>Pending</td>
                    <td>$150.00</td>
                    <td><a href="#" class="btn btn-primary">View</a></td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="tab-pane fade" id="downloads">
            <h4>Your Downloads</h4>
            <ul class="list-group">
                <li class="list-group-item">
                    Product 1 <a href="#" class="btn btn-success float-end">Download</a>
                </li>
                <li class="list-group-item">
                    Product 2 <a href="#" class="btn btn-success float-end">Download</a>
                </li>
            </ul>
        </div>

        <div class="tab-pane fade" id="address">
            <h4>Your Addresses</h4>
            <div class="mb-3">
                <h5>Billing Address</h5>
                <p>123 Main St, Springfield, IL 62701</p>
                <a href="#" class="btn btn-secondary">Edit</a>
            </div>
            <div>
                <h5>Shipping Address</h5>
                <p>456 Elm St, Springfield, IL 62701</p>
                <a href="#" class="btn btn-secondary">Edit</a>
            </div>
        </div>

        <div class="tab-pane fade" id="account-info">
            <h4>Account Details</h4>
            <form th:action="@{/account/update/{id}(id=${userAccount.id})}" th:object="${userAccount}" method="post">
                <div>
                    <label for="firstName">First Name</label>
                    <input type="text" th:field="*{firstName}" class="form-control" id="firstName" />
                </div>
                <div>
                    <label for="lastName">Last Name</label>
                    <input type="text" th:field="*{lastName}" class="form-control" id="lastName" />
                </div>
                <div>
                    <label for="email">Email</label>
                    <input type="text" th:field="*{email}" class="form-control" id="email" />
                </div>
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </form>

            <hr>

            <form th:action="@{/account/update-password/{id}(id=${userAccount.id})}" method="post">
                <div>
                    <label for="currentPassword">Current Password</label>
                    <input type="password" name="currentPassword" class="form-control" id="currentPassword"  />
                </div>
                <div>
                    <label for="newPassword">New Password</label>
                    <input type="password" name="newPassword" class="form-control" id="newPassword" />
                </div>
                <button type="submit" class="btn btn-primary">Change Password</button>
            </form>

        </div>
    </div>
</div>
<div th:replace="~{/shared/footer :: footerOt}"/>

<div th:replace="~{/shared/footer :: scriptOt}"/>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>

</html>
